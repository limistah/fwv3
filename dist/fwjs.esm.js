import t from"crypto";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var n=function(t){return t&&t.Math==Math&&t},o=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")(),i=function(t){try{return!!t()}catch(t){return!0}},c=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,a={f:f&&!u.call({1:2},1)?function(t){var e=f(this,t);return!!e&&e.enumerable}:u},s=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,p=function(t){return l.call(t).slice(8,-1)},y="".split,h=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==p(t)?y.call(t,""):Object(t)}:Object,b=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},v=function(t){return h(b(t))},g=function(t){return"object"==typeof t?null!==t:"function"==typeof t},d=function(t,e){if(!g(t))return t;var r,n;if(e&&"function"==typeof(r=t.toString)&&!g(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!g(n=r.call(t)))return n;if(!e&&"function"==typeof(r=t.toString)&&!g(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,S=function(t,e){return m.call(t,e)},O=o.document,E=g(O)&&g(O.createElement),w=function(t){return E?O.createElement(t):{}},j=!c&&!i((function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})),L=Object.getOwnPropertyDescriptor,P={f:c?L:function(t,e){if(t=v(t),e=d(e,!0),j)try{return L(t,e)}catch(t){}if(S(t,e))return s(!a.f.call(t,e),t[e])}},T=function(t){if(!g(t))throw TypeError(String(t)+" is not an object");return t},_=Object.defineProperty,C={f:c?_:function(t,e,r){if(T(t),e=d(e,!0),T(r),j)try{return _(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},D=c?function(t,e,r){return C.f(t,e,s(1,r))}:function(t,e,r){return t[e]=r,t},K=function(t,e){try{D(o,t,e)}catch(r){o[t]=e}return e},M=o["__core-js_shared__"]||K("__core-js_shared__",{}),R=Function.toString;"function"!=typeof M.inspectSource&&(M.inspectSource=function(t){return R.call(t)});var N,B,A,x=M.inspectSource,F=o.WeakMap,I="function"==typeof F&&/native code/.test(x(F)),k=r((function(t){(t.exports=function(t,e){return M[t]||(M[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})})),U=0,Y=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++U+Y).toString(36)},W=k("keys"),X=function(t){return W[t]||(W[t]=V(t))},G={},q=o.WeakMap;if(I){var H=new q,z=H.get,J=H.has,Q=H.set;N=function(t,e){return Q.call(H,t,e),e},B=function(t){return z.call(H,t)||{}},A=function(t){return J.call(H,t)}}else{var Z=X("state");G[Z]=!0,N=function(t,e){return D(t,Z,e),e},B=function(t){return S(t,Z)?t[Z]:{}},A=function(t){return S(t,Z)}}var $,tt={set:N,get:B,has:A,enforce:function(t){return A(t)?B(t):N(t,{})},getterFor:function(t){return function(e){var r;if(!g(e)||(r=B(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},et=r((function(t){var e=tt.get,r=tt.enforce,n=String(String).split("String");(t.exports=function(t,e,i,c){var u=!!c&&!!c.unsafe,f=!!c&&!!c.enumerable,a=!!c&&!!c.noTargetGet;"function"==typeof i&&("string"!=typeof e||S(i,"name")||D(i,"name",e),r(i).source=n.join("string"==typeof e?e:"")),t!==o?(u?!a&&t[e]&&(f=!0):delete t[e],f?t[e]=i:D(t,e,i)):f?t[e]=i:K(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||x(this)}))})),rt=o,nt=function(t){return"function"==typeof t?t:void 0},ot=function(t,e){return arguments.length<2?nt(rt[t])||nt(o[t]):rt[t]&&rt[t][e]||o[t]&&o[t][e]},it=Math.ceil,ct=Math.floor,ut=function(t){return isNaN(t=+t)?0:(t>0?ct:it)(t)},ft=Math.min,at=function(t){return t>0?ft(ut(t),9007199254740991):0},st=Math.max,lt=Math.min,pt=function(t){return function(e,r,n){var o,i=v(e),c=at(i.length),u=function(t,e){var r=ut(t);return r<0?st(r+e,0):lt(r,e)}(n,c);if(t&&r!=r){for(;c>u;)if((o=i[u++])!=o)return!0}else for(;c>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},yt={includes:pt(!0),indexOf:pt(!1)},ht=yt.indexOf,bt=function(t,e){var r,n=v(t),o=0,i=[];for(r in n)!S(G,r)&&S(n,r)&&i.push(r);for(;e.length>o;)S(n,r=e[o++])&&(~ht(i,r)||i.push(r));return i},vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gt=vt.concat("length","prototype"),dt={f:Object.getOwnPropertyNames||function(t){return bt(t,gt)}},mt={f:Object.getOwnPropertySymbols},St=ot("Reflect","ownKeys")||function(t){var e=dt.f(T(t)),r=mt.f;return r?e.concat(r(t)):e},Ot=function(t,e){for(var r=St(e),n=C.f,o=P.f,i=0;i<r.length;i++){var c=r[i];S(t,c)||n(t,c,o(e,c))}},Et=/#|\.prototype\./,wt=function(t,e){var r=Lt[jt(t)];return r==Tt||r!=Pt&&("function"==typeof e?i(e):!!e)},jt=wt.normalize=function(t){return String(t).replace(Et,".").toLowerCase()},Lt=wt.data={},Pt=wt.NATIVE="N",Tt=wt.POLYFILL="P",_t=wt,Ct=P.f,Dt=function(t,e){var r,n,i,c,u,f=t.target,a=t.global,s=t.stat;if(r=a?o:s?o[f]||K(f,{}):(o[f]||{}).prototype)for(n in e){if(c=e[n],i=t.noTargetGet?(u=Ct(r,n))&&u.value:r[n],!_t(a?n:f+(s?".":"#")+n,t.forced)&&void 0!==i){if(typeof c==typeof i)continue;Ot(c,i)}(t.sham||i&&i.sham)&&D(c,"sham",!0),et(r,n,c,t)}},Kt=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())})),Mt=Kt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Rt=Array.isArray||function(t){return"Array"==p(t)},Nt=function(t){return Object(b(t))},Bt=Object.keys||function(t){return bt(t,vt)},At=c?Object.defineProperties:function(t,e){T(t);for(var r,n=Bt(e),o=n.length,i=0;o>i;)C.f(t,r=n[i++],e[r]);return t},xt=ot("document","documentElement"),Ft=X("IE_PROTO"),It=function(){},kt=function(t){return"<script>"+t+"<\/script>"},Ut=function(){try{$=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;Ut=$?function(t){t.write(kt("")),t.close();var e=t.parentWindow.Object;return t=null,e}($):((e=w("iframe")).style.display="none",xt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(kt("document.F=Object")),t.close(),t.F);for(var r=vt.length;r--;)delete Ut.prototype[vt[r]];return Ut()};G[Ft]=!0;var Yt,Vt,Wt,Xt=Object.create||function(t,e){var r;return null!==t?(It.prototype=T(t),r=new It,It.prototype=null,r[Ft]=t):r=Ut(),void 0===e?r:At(r,e)},Gt=dt.f,qt={}.toString,Ht="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],zt={f:function(t){return Ht&&"[object Window]"==qt.call(t)?function(t){try{return Gt(t)}catch(t){return Ht.slice()}}(t):Gt(v(t))}},Jt=k("wks"),Qt=o.Symbol,Zt=Mt?Qt:Qt&&Qt.withoutSetter||V,$t=function(t){return S(Jt,t)||(Kt&&S(Qt,t)?Jt[t]=Qt[t]:Jt[t]=Zt("Symbol."+t)),Jt[t]},te={f:$t},ee=C.f,re=C.f,ne=$t("toStringTag"),oe=function(t,e,r){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,o){return t.call(e,r,n,o)}}return function(){return t.apply(e,arguments)}},ie=$t("species"),ce=function(t,e){var r;return Rt(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!Rt(r.prototype)?g(r)&&null===(r=r[ie])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===e?0:e)},ue=[].push,fe=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,c=5==t||i;return function(u,f,a,s){for(var l,p,y=Nt(u),b=h(y),v=oe(f,a,3),g=at(b.length),d=0,m=s||ce,S=e?m(u,g):r?m(u,0):void 0;g>d;d++)if((c||d in b)&&(p=v(l=b[d],d,y),t))if(e)S[d]=p;else if(p)switch(t){case 3:return!0;case 5:return l;case 6:return d;case 2:ue.call(S,l)}else if(o)return!1;return i?-1:n||o?o:S}},ae={forEach:fe(0),map:fe(1),filter:fe(2),some:fe(3),every:fe(4),find:fe(5),findIndex:fe(6)},se=ae.forEach,le=X("hidden"),pe=$t("toPrimitive"),ye=tt.set,he=tt.getterFor("Symbol"),be=Object.prototype,ve=o.Symbol,ge=ot("JSON","stringify"),de=P.f,me=C.f,Se=zt.f,Oe=a.f,Ee=k("symbols"),we=k("op-symbols"),je=k("string-to-symbol-registry"),Le=k("symbol-to-string-registry"),Pe=k("wks"),Te=o.QObject,_e=!Te||!Te.prototype||!Te.prototype.findChild,Ce=c&&i((function(){return 7!=Xt(me({},"a",{get:function(){return me(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=de(be,e);n&&delete be[e],me(t,e,r),n&&t!==be&&me(be,e,n)}:me,De=function(t,e){var r=Ee[t]=Xt(ve.prototype);return ye(r,{type:"Symbol",tag:t,description:e}),c||(r.description=e),r},Ke=Mt?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof ve},Me=function(t,e,r){t===be&&Me(we,e,r),T(t);var n=d(e,!0);return T(r),S(Ee,n)?(r.enumerable?(S(t,le)&&t[le][n]&&(t[le][n]=!1),r=Xt(r,{enumerable:s(0,!1)})):(S(t,le)||me(t,le,s(1,{})),t[le][n]=!0),Ce(t,n,r)):me(t,n,r)},Re=function(t,e){T(t);var r=v(e),n=Bt(r).concat(xe(r));return se(n,(function(e){c&&!Ne.call(r,e)||Me(t,e,r[e])})),t},Ne=function(t){var e=d(t,!0),r=Oe.call(this,e);return!(this===be&&S(Ee,e)&&!S(we,e))&&(!(r||!S(this,e)||!S(Ee,e)||S(this,le)&&this[le][e])||r)},Be=function(t,e){var r=v(t),n=d(e,!0);if(r!==be||!S(Ee,n)||S(we,n)){var o=de(r,n);return!o||!S(Ee,n)||S(r,le)&&r[le][n]||(o.enumerable=!0),o}},Ae=function(t){var e=Se(v(t)),r=[];return se(e,(function(t){S(Ee,t)||S(G,t)||r.push(t)})),r},xe=function(t){var e=t===be,r=Se(e?we:v(t)),n=[];return se(r,(function(t){!S(Ee,t)||e&&!S(be,t)||n.push(Ee[t])})),n};(Kt||(et((ve=function(){if(this instanceof ve)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=V(t),r=function(t){this===be&&r.call(we,t),S(this,le)&&S(this[le],e)&&(this[le][e]=!1),Ce(this,e,s(1,t))};return c&&_e&&Ce(be,e,{configurable:!0,set:r}),De(e,t)}).prototype,"toString",(function(){return he(this).tag})),et(ve,"withoutSetter",(function(t){return De(V(t),t)})),a.f=Ne,C.f=Me,P.f=Be,dt.f=zt.f=Ae,mt.f=xe,te.f=function(t){return De($t(t),t)},c&&(me(ve.prototype,"description",{configurable:!0,get:function(){return he(this).description}}),et(be,"propertyIsEnumerable",Ne,{unsafe:!0}))),Dt({global:!0,wrap:!0,forced:!Kt,sham:!Kt},{Symbol:ve}),se(Bt(Pe),(function(t){!function(t){var e=rt.Symbol||(rt.Symbol={});S(e,t)||ee(e,t,{value:te.f(t)})}(t)})),Dt({target:"Symbol",stat:!0,forced:!Kt},{for:function(t){var e=String(t);if(S(je,e))return je[e];var r=ve(e);return je[e]=r,Le[r]=e,r},keyFor:function(t){if(!Ke(t))throw TypeError(t+" is not a symbol");if(S(Le,t))return Le[t]},useSetter:function(){_e=!0},useSimple:function(){_e=!1}}),Dt({target:"Object",stat:!0,forced:!Kt,sham:!c},{create:function(t,e){return void 0===e?Xt(t):Re(Xt(t),e)},defineProperty:Me,defineProperties:Re,getOwnPropertyDescriptor:Be}),Dt({target:"Object",stat:!0,forced:!Kt},{getOwnPropertyNames:Ae,getOwnPropertySymbols:xe}),Dt({target:"Object",stat:!0,forced:i((function(){mt.f(1)}))},{getOwnPropertySymbols:function(t){return mt.f(Nt(t))}}),ge)&&Dt({target:"JSON",stat:!0,forced:!Kt||i((function(){var t=ve();return"[null]"!=ge([t])||"{}"!=ge({a:t})||"{}"!=ge(Object(t))}))},{stringify:function(t,e,r){for(var n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e,(g(e)||void 0!==t)&&!Ke(t))return Rt(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Ke(e))return e}),o[1]=e,ge.apply(null,o)}});ve.prototype[pe]||D(ve.prototype,pe,ve.prototype.valueOf),Vt="Symbol",(Yt=ve)&&!S(Yt=Wt?Yt:Yt.prototype,ne)&&re(Yt,ne,{configurable:!0,value:Vt}),G[le]=!0;var Fe,Ie,ke=ot("navigator","userAgent")||"",Ue=o.process,Ye=Ue&&Ue.versions,Ve=Ye&&Ye.v8;Ve?Ie=(Fe=Ve.split("."))[0]+Fe[1]:ke&&(!(Fe=ke.match(/Edge\/(\d+)/))||Fe[1]>=74)&&(Fe=ke.match(/Chrome\/(\d+)/))&&(Ie=Fe[1]);var We,Xe=Ie&&+Ie,Ge=$t("species"),qe=Object.defineProperty,He={},ze=function(t){throw t},Je=function(t,e){if(S(He,t))return He[t];e||(e={});var r=[][t],n=!!S(e,"ACCESSORS")&&e.ACCESSORS,o=S(e,0)?e[0]:ze,u=S(e,1)?e[1]:void 0;return He[t]=!!r&&!i((function(){if(n&&!c)return!0;var t={length:-1};n?qe(t,1,{enumerable:!0,get:ze}):t[1]=1,r.call(t,o,u)}))},Qe=ae.filter,Ze=(We="filter",Xe>=51||!i((function(){var t=[];return(t.constructor={})[Ge]=function(){return{foo:1}},1!==t[We](Boolean).foo}))),$e=Je("filter");Dt({target:"Array",proto:!0,forced:!Ze||!$e},{filter:function(t){return Qe(this,t,arguments.length>1?arguments[1]:void 0)}});var tr=ae.forEach,er=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))}("forEach"),rr=Je("forEach"),nr=er&&rr?[].forEach:function(t){return tr(this,t,arguments.length>1?arguments[1]:void 0)};Dt({target:"Array",proto:!0,forced:[].forEach!=nr},{forEach:nr});var or=$t("unscopables"),ir=Array.prototype;null==ir[or]&&C.f(ir,or,{configurable:!0,value:Xt(null)});var cr,ur=yt.includes;Dt({target:"Array",proto:!0,forced:!Je("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return ur(this,t,arguments.length>1?arguments[1]:void 0)}}),cr="includes",ir[or][cr]=!0;var fr=Object.assign,ar=Object.defineProperty,sr=!fr||i((function(){if(c&&1!==fr({b:1},fr(ar({},"a",{enumerable:!0,get:function(){ar(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=fr({},t)[r]||"abcdefghijklmnopqrst"!=Bt(fr({},e)).join("")}))?function(t,e){for(var r=Nt(t),n=arguments.length,o=1,i=mt.f,u=a.f;n>o;)for(var f,s=h(arguments[o++]),l=i?Bt(s).concat(i(s)):Bt(s),p=l.length,y=0;p>y;)f=l[y++],c&&!u.call(s,f)||(r[f]=s[f]);return r}:fr;Dt({target:"Object",stat:!0,forced:Object.assign!==sr},{assign:sr});var lr=P.f,pr=i((function(){lr(1)}));Dt({target:"Object",stat:!0,forced:!c||pr,sham:!c},{getOwnPropertyDescriptor:function(t,e){return lr(v(t),e)}});var yr=function(t,e,r){var n=d(e);n in t?C.f(t,n,s(0,r)):t[n]=r};Dt({target:"Object",stat:!0,sham:!c},{getOwnPropertyDescriptors:function(t){for(var e,r,n=v(t),o=P.f,i=St(n),c={},u=0;i.length>u;)void 0!==(r=o(n,e=i[u++]))&&yr(c,e,r);return c}}),Dt({target:"Object",stat:!0,forced:i((function(){Bt(1)}))},{keys:function(t){return Bt(Nt(t))}});var hr=$t("match"),br=function(t){if(function(t){var e;return g(t)&&(void 0!==(e=t[hr])?!!e:"RegExp"==p(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},vr=$t("match");Dt({target:"String",proto:!0,forced:!function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[vr]=!1,"/./"[t](e)}catch(t){}}return!1}("includes")},{includes:function(t){return!!~String(b(this)).indexOf(br(t),arguments.length>1?arguments[1]:void 0)}});for(var gr in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var dr=o[gr],mr=dr&&dr.prototype;if(mr&&mr.forEach!==nr)try{D(mr,"forEach",nr)}catch(t){mr.forEach=nr}}var Sr=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},Or={liveURL:"https://live.com",sandboxURL:"https://sandbox.com",LIVE_MODE:"live",SANDBOX_MODE:"sandbox",versions:["v2","v3"],defaultVersion:"v2",testKeys:{v2:{secret:"FLWSECK_TEST-66a47ad8baf9222edbffc2a5868a8e79-X",encrypt:"FLWSECK_TESTd528b245a1a9",public:"FLWPUBK_TEST-728bae053ffa279627a7f427691bc2cb-X"},v3:{secret:"FLWSECK_TEST-SANDBOXDEMOKEY-X",encrypt:"FLWSECK_TEST74e0b6c7db0e",public:"FLWPUBK_TEST-SANDBOXDEMOKEY-X"}}};Buffer.alloc(16,0);var Er={encrypt:function(e,r=t.randomBytes(32),n="aes-256-cbc",o=16){const i=r||Buffer.from(r),c=Buffer.alloc(o,0);let u=t.createCipheriv(n,i,c),f=u.update(e);return f=Buffer.concat([f,u.final()]),{hash:f.toString("hex"),key:i.toString("base64")}},decrypt:function(e,r,n="aes-256-cbc",o=16){if(!r)return!1;const i=Buffer.alloc(o,0);let c=Buffer.from(e,"hex"),u=t.createDecipheriv(n,r,i),f=u.update(c);return f=Buffer.concat([f,u.final()]),f.toString()}};function wr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wr(Object(r),!0).forEach((function(e){Sr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lr(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Or.versions.includes(t&&t.version),r=e?t.version:Or.defaultVersion,n=Or.testKeys[r],o=Object.assign({},t,{publicKey:n.public,secretKey:n.secret,encryptKey:n.encrypt,version:r,mode:Or.SANDBOX_MODE}),i=o.publicKey,c=o.secretKey,u=o.encryptKey,f=o.version,a=o.mode;return this.PUBLIC_KEY=process.env.FW_PUBLIC_KEY||i,this.SECRET_KEY=process.env.FW_SECRET_KEY||c,this.ENCRYPTION_KEY=process.env.FW_ENCRYPTION_KEY||u,this.MODE=a,this.VERSION=f,this}var Pr={baseURL:Or.sandboxURL,setBaseURL:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or.SANDBOX_MODE;return t===Or.LIVE_MODE?this.baseURL=Or.liveURL:this.baseURL=Or.sandboxURL,this},encrypt:function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:envKey;return Er.encrypt(t,e,"des-ede3-cbc",8)}(t,this.ENCRYPTION_KEY)},makePayload:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=JSON.stringify(t),n=e?this.encrypt(r):r;return e?{alg:"3DES-24",PBFPubKey:this.PUBLIC_KEY,client:n}:jr(jr({},t),{},{PBFPubKey:this.PUBLIC_KEY})}};Lr.prototype=Pr;var Tr=function(t){return new Lr},_r=Tr(),Cr=Tr();console.log(_r.baseURL),_r.setBaseURL(Or.LIVE_MODE),console.log(_r.baseURL),console.log(Cr.baseURL),console.log(_r.encrypt("what are we trying?")),console.log(_r.makePayload({cardNumber:"String"},!1)),module.exports=Tr;
